<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>×™×•× 1 - × ×©×™× ××•×‘×™×œ×•×ª ××“×¢</title>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --lung: #2a9d8f;
    --lung-light: #d4eeeb;
    --lung-dark: #1a6b5f;
    --cardio: #e76f83;
    --cardio-light: #fde4e9;
    --cardio-dark: #b8455c;
    --brain: #7b5ea7;
    --brain-light: #ece3f4;
    --brain-dark: #5a3d82;
    --museum: #3b82c4;
    --museum-light: #dce9f7;
    --museum-dark: #1e5a9e;
    --dark: #1a1a2e;
    --dark2: #16162a;
    --common: #f8f9fa;
    --common-border: #dee2e6;
    --circles: #e65100;
    --circles-light: #fff3e0;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Heebo', sans-serif;
    background: linear-gradient(145deg, #f0f4f8 0%, #e8ecf2 100%);
    min-height: 100vh;
    padding: 32px 16px 44px;
    direction: rtl;
  }

  .header { text-align: center; margin-bottom: 22px; }
  .header h1 { font-size: 24px; font-weight: 800; color: var(--dark); }
  .header .sub { font-size: 12px; color: #7a8899; margin-top: 4px; }

  .legend {
    display: flex; justify-content: center; gap: 18px;
    margin-bottom: 18px; flex-wrap: wrap;
  }
  .legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; font-weight: 600; color: #444; }
  .legend-dot { width: 12px; height: 12px; border-radius: 3px; }

  .wrapper {
    max-width: 1500px; margin: 0 auto;
    overflow-x: auto; border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.10), 0 2px 6px rgba(0,0,0,0.05);
    background: #fff;
  }

  table { width: 100%; border-collapse: collapse; min-width: 1050px; }

  /* TOPIC HEADER */
  .topic-row th {
    padding: 11px 4px; text-align: center; color: #fff;
    border-left: 2px solid rgba(255,255,255,0.2); vertical-align: middle;
  }
  .topic-row th:first-child { border-left: none; }
  .topic-row .th-time { background: var(--dark); min-width: 108px; border-radius: 16px 0 0 0; }
  .topic-row .th-lung { background: var(--lung); }
  .topic-row .th-cardio { background: var(--cardio); }
  .topic-row .th-brain { background: var(--brain); border-radius: 0 16px 0 0; }
  .topic-row .t-emoji { font-size: 20px; display: block; margin-bottom: 1px; }
  .topic-row .t-label { font-size: 14px; font-weight: 700; display: block; }

  /* LAB SUB-HEADER */
  .lab-row th {
    padding: 10px 3px; font-size: 10px; font-weight: 600;
    color: rgba(255,255,255,0.93); text-align: center;
    border-left: 1px solid rgba(255,255,255,0.22);
    border-top: 2px solid rgba(255,255,255,0.15);
    vertical-align: middle;
  }
  .lab-row th:first-child { border-left: none; }
  .lab-row .lh-time { background: var(--dark2); }
  .lab-row .lh-lung { background: var(--lung-dark); }
  .lab-row .lh-cardio { background: var(--cardio-dark); }
  .lab-row .lh-brain { background: var(--brain-dark); }

  /* TIME CELLS */
  .time-cell {
    background: var(--dark); color: #cdd6f4;
    text-align: center; padding: 14px 6px;
    border-top: 1px solid #2a2a44; vertical-align: middle;
  }
  .time-cell .t-time { font-size: 14px; font-weight: 800; display: block; color: #eef2ff; }
  .time-cell .t-badge { font-size: 9.5px; color: #6b7a9e; display: block; margin-top: 2px; font-weight: 500; }

  /* COMMON ROW */
  .common-row td {
    background: var(--common);
    border: 1px solid var(--common-border);
    padding: 12px 10px;
    vertical-align: middle;
  }
  .common-row .time-cell {
    background: var(--dark);
    border: none;
  }
  .common-content {
    text-align: center;
    font-size: 13px;
    font-weight: 600;
    color: #495057;
  }
  .common-content .common-title {
    font-weight: 700;
    color: #212529;
    display: block;
  }
  .common-content .common-location {
    font-size: 11px;
    color: #6c757d;
    margin-top: 2px;
  }

  /* GROUP CELL */
  .g-cell {
    padding: 0; vertical-align: top;
    border: 1px solid rgba(0,0,0,0.07);
    min-width: 120px;
  }
  .g-lung { background: var(--lung-light); }
  .g-cardio { background: var(--cardio-light); }
  .g-brain { background: var(--brain-light); }
  .g-empty { background: #f4f5f7; border: 1px dashed #d0d4da !important; }

  /* Group name bar */
  .g-name-bar {
    font-size: 10.5px; font-weight: 700; text-align: center;
    padding: 4px 4px 3px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
  }
  .g-lung .g-name-bar { background: var(--lung); color: #fff; }
  .g-cardio .g-name-bar { background: var(--cardio); color: #fff; }
  .g-brain .g-name-bar { background: var(--brain); color: #fff; }

  .bracelet-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: 1.5px solid rgba(255,255,255,0.7);
    flex-shrink: 0;
  }

  .g-content {
    display: grid;
    grid-template-rows: 1fr 1fr 1fr;
    gap: 4px;
    padding: 5px;
    height: 125px;
  }

  /* ××¢×‘×“×” block */
  .lab-block {
    background: rgba(255,255,255,0.55);
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    font-weight: 800;
  }
  .g-lung .lab-block { color: var(--lung-dark); }
  .g-cardio .lab-block { color: var(--cardio-dark); }
  .g-brain .lab-block { color: var(--brain-dark); }

  .lab-block-merged { grid-row: span 2; }

  /* Museum banner */
  .mus-banner {
    background: var(--museum-light);
    border: 1px solid rgba(59,130,196,0.3);
    border-radius: 5px;
    padding: 4px 6px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .mus-banner .mus-time {
    font-size: 10px; font-weight: 800; color: var(--museum-dark); display: block;
  }
  .mus-banner .mus-label {
    font-size: 9px; font-weight: 600; color: var(--museum); display: block; margin-top: 1px;
  }

  /* ××¢×’×œ×™ ×—×©×™×‘×” cells */
  .g-circles {
    background: var(--circles-light);
  }
  .g-circles .g-name-bar {
    background: var(--circles);
    color: #fff;
  }
  .circles-bar {
    font-size: 10px;
    font-weight: 700;
    padding: 4px 4px 3px;
    text-align: center;
    color: #fff;
    background: var(--circles);
  }
  .circles-content {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px 5px;
    height: 50px;
  }
  .circles-lab {
    background: rgba(255,255,255,0.7);
    border-radius: 5px;
    padding: 6px 10px;
    font-size: 12px;
    font-weight: 800;
    text-align: center;
    color: var(--circles);
  }

  .note {
    max-width: 700px; margin: 18px auto 0;
    text-align: center; font-size: 11px; color: #8a8a9a; line-height: 1.7;
  }
  .note .note-mus {
    display: inline-flex; align-items: center; gap: 5px;
    background: var(--museum-light); color: var(--museum-dark);
    padding: 3px 10px; border-radius: 8px; font-weight: 600; font-size: 10.5px; margin-top: 5px;
  }
</style>
</head>
<body>

<div class="header">
  <h1>ğŸ”¬ × ×©×™× ××•×‘×™×œ×•×ª ××“×¢</h1>
  <div class="sub">×”×§×¦×” ×§×‘×•×¦×•×ª â†’ ××¢×‘×“×•×ª â†’ ×¨×¦×•×¢×•×ª ×–××Ÿ</div>
</div>

<div class="legend">
  <div class="legend-item"><div class="legend-dot" style="background:var(--lung)"></div>ğŸ« ××•×¨ ×•× ×©×™××”</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--cardio)"></div>ğŸ’– ×§×¨×“×™×•×œ×•×’×™×”</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--brain)"></div>ğŸ§  ×”××•×—</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--museum)"></div>ğŸ¥ ××•×–×™××•×Ÿ ×¨×¤×•××”</div>
</div>

<div class="wrapper">
  <table id="tbl"></table>
</div>

<div class="note">
  ×›×œ ×§×‘×•×¦×” ×¢×•×‘×¨×ª ×¢×œ ×©×œ×•×©×ª ×”× ×•×©××™× â€” ××•×¨ ×•× ×©×™××”, ×§×¨×“×™×•×œ×•×’×™×”, ×”××•×— â€” ××—×“ ×‘×›×œ ×¨×¦×•×¢×”.<br>
  <span class="note-mus">ğŸ¥ ×‘×›×œ ×¨×¦×•×¢×” ×›×œ ×§×‘×•×¦×” ××‘×§×¨×ª ×‘××•×–×™××•×Ÿ ×¨×¤×•××” ×¨×‘×¢ ×©×¢×”</span>
</div>

<script>
const groups = [
  '×©×© ×©× ×ª×™ â€“ ×™×©"×™',
  '×¨×‘ ×ª×—×•××™',
  '××‘×©×¨×ª',
  '××ª×’×¨×™ ×”×¢×ª×™×“ + ×××™×¨ ×©×¤×™×”',
  '× ×‘×•×Ÿ',
  '××•×œ×¤× ×” â€“ ××¢×™×™×Ÿ ×”×××•× ×”',
  '×¢×ª×™×“×™×',
  '×§×•×¤×˜××Ÿ',
];

const bracelets = [
  { name: '×¡×’×•×œ', color: '#9b59b6' },
  { name: '×—×•×', color: '#8B4513' },
  { name: '×¦×”×•×‘', color: '#f1c40f' },
  { name: '×™×¨×•×§', color: '#2ecc71' },
  { name: '×›×—×•×œ', color: '#3498db' },
  { name: '××“×•×', color: '#e74c3c' },
  { name: '×™×¨×•×§ ×›×”×”', color: '#1a5c38' },
  { name: '×›×ª×•×', color: '#e67e22' },
];

const rotation = [
  ['L','C','B'],
  ['L','C','B'],
  ['L','B','C'],
  ['C','L','B'],
  ['C','B','L'],
  ['C','B','L'],
  ['B','L','C'],
  ['B','C','L'],
];

const labs = [
  { name:'××¢×‘×“×” 1',          topic:'L', instructor:'××•×¨×˜×œ', floor:'×§×•××” 1' },
  { name:'××¢×‘×“×” 2',          topic:'L', instructor:'×’×™×œ×™', floor:'×§×•××” 1' },
  { name:'××¢×‘×“×” 3',          topic:'L', instructor:'×¢×–×¨×™××œ', floor:'×§×•××” 1' },
  { name:'××¢×‘×“×” 4',          topic:'C', instructor:'×’×œ', floor:'×§×•××” 1' },
  { name:'××¢×‘×“×” 5',          topic:'C', instructor:'××‘×™', floor:'×§×•××” 1' },
  { name:'××¢×‘×“×” 6',          topic:'C', instructor:'×–×™× ×‘', floor:'×§×•××” 1' },
  { name:'×™×—×™×“×” ×¨×¤×•××™×ª ×\'', topic:'B', instructor:'×œ×™×“×•×¨', floor:'×§×•××ª ×§×¨×§×¢' },
  { name:'×™×—×™×“×” ×¨×¤×•××™×ª ×‘\'', topic:'B', instructor:'×“×•×“', floor:'×§×•××” 1' },
  { name:'××¢×‘×“×ª ××œ×§×˜×¨×•× ×™×§×”', topic:'B', instructor:'×™×¢×œ', floor:'×§×•××ª ×§×¨×§×¢' },
];

const slots = [
  { time:'10:00 â€“ 10:50', badge:'×¨×¦×•×¢×” ×\'' },
  { time:'10:50 â€“ 11:40', badge:'×¨×¦×•×¢×” ×‘\'' },
  { time:'11:40 â€“ 12:30', badge:'×¨×¦×•×¢×” ×’\'' },
];

const museumTimes = [
  ['10:00â€“10:15', '10:15â€“10:30', '10:30â€“10:45'],
  ['10:50â€“11:05', '11:05â€“11:20', '11:20â€“11:35'],
  ['11:40â€“11:55', '11:55â€“12:10', '12:10â€“12:25'],
];

const topicCls = { L:'lung', C:'cardio', B:'brain' };
const labCls   = { L:'lh-lung', C:'lh-cardio', B:'lh-brain' };
const musLabel = { L:'×¨×™××•×ª', C:'×œ×‘', B:'××•×—' };

function buildGrid() {
  const grid = [];
  for (let s = 0; s < 3; s++) {
    const byTopic = { L:[], C:[], B:[] };
    rotation.forEach((row, gi) => byTopic[row[s]].push(gi));
    const row = labs.map(() => null);
    byTopic.L.forEach((gi, i) => { row[i]   = { groupIdx: gi, museumSub: i }; });
    byTopic.C.forEach((gi, i) => { row[3+i] = { groupIdx: gi, museumSub: i }; });
    byTopic.B.forEach((gi, i) => { row[6+i] = { groupIdx: gi, museumSub: i }; });
    grid.push(row);
  }
  return grid;
}

const grid = buildGrid();

function renderCell(si, cell, labIdx) {
  if (!cell) return '<td class="g-cell g-empty"></td>';

  const gi = cell.groupIdx;
  const topic = rotation[gi][si];
  const cls = topicCls[topic];
  const musSub = cell.museumSub;
  const musTime = museumTimes[si][musSub];
  const labName = labs[labIdx].name;

  const museumHTML = `
    <div class="mus-banner">
      <span class="mus-time" dir="ltr">${musTime}</span>
      <span class="mus-label">ğŸ¥ ×. ×¨×¤×•××” - ${musLabel[topic]}</span>
    </div>`;

  let contentHTML = '';

  if (musSub === 0) {
    contentHTML = museumHTML + `<div class="lab-block lab-block-merged">${labName}</div>`;
  } else if (musSub === 1) {
    contentHTML = `<div class="lab-block">${labName}</div>` + museumHTML + `<div class="lab-block">${labName}</div>`;
  } else {
    contentHTML = `<div class="lab-block lab-block-merged">${labName}</div>` + museumHTML;
  }

  const bracelet = bracelets[gi];
  return `
    <td class="g-cell g-${cls}">
      <div class="g-name-bar">
        <span class="bracelet-dot" style="background:${bracelet.color}"></span>
        ${groups[gi]} - ${bracelet.name}
      </div>
      <div class="g-content">${contentHTML}</div>
    </td>`;
}

// Render circles cell (××¢×’×œ×™ ×—×©×™×‘×”) - same assignment as first slot
function renderCirclesCell(cell, labIdx) {
  if (!cell) return '<td class="g-cell g-empty"></td>';

  const gi = cell.groupIdx;
  const labName = labs[labIdx].name;
  const bracelet = bracelets[gi];

  return `
    <td class="g-cell g-circles">
      <div class="g-name-bar">
        <span class="bracelet-dot" style="background:${bracelet.color}"></span>
        ${groups[gi]} - ${bracelet.name}
      </div>
      <div class="circles-bar">ğŸ’­ ××¢×’×œ×™ ×—×©×™×‘×”</div>
      <div class="circles-content">
        <div class="circles-lab">${labName}</div>
      </div>
    </td>`;
}

// Render common row
function renderCommonRow(time, badge, title, location) {
  let h = '<tr class="common-row">';
  h += `<td class="time-cell">
    <span class="t-time" dir="ltr">${time}</span>
    ${badge ? `<span class="t-badge">${badge}</span>` : ''}
  </td>`;
  h += `<td colspan="9">
    <div class="common-content">
      <span class="common-title">${title}</span>
      ${location ? `<span class="common-location">${location}</span>` : ''}
    </div>
  </td>`;
  h += '</tr>';
  return h;
}

(function render() {
  const tbl = document.getElementById('tbl');
  let h = '';

  // Topic header
  h += '<tr class="topic-row">';
  h += '<th class="th-time" rowspan="2"></th>';
  h += '<th class="th-lung" colspan="3"><span class="t-emoji">ğŸ«</span><span class="t-label">××•×¨ ×•× ×©×™××”</span></th>';
  h += '<th class="th-cardio" colspan="3"><span class="t-emoji">ğŸ’–</span><span class="t-label">×§×¨×“×™×•×œ×•×’×™×”</span></th>';
  h += '<th class="th-brain" colspan="3"><span class="t-emoji">ğŸ§ </span><span class="t-label">×”××•×—</span></th>';
  h += '</tr>';

  // Lab sub-header
  h += '<tr class="lab-row">';
  labs.forEach(lab => {
    const instructorHTML = lab.instructor ? `<span style="display:inline-block;font-size:12px;font-weight:800;margin-bottom:3px;background:#ffeb3b;color:#000;padding:2px 8px;border-radius:3px;">${lab.instructor}</span><br>` : '';
    const floorHTML = lab.floor ? `<br><span style="font-size:9px;opacity:0.8;">${lab.floor}</span>` : '';
    h += `<th class="${labCls[lab.topic]}">${instructorHTML}${lab.name}${floorHTML}</th>`;
  });
  h += '</tr>';

  // === COMMON: ×”×ª××¡×¤×•×ª ×•× ×©× ×•×©×™× ===
  h += renderCommonRow('09:00 â€“ 09:30', '', 'â˜• ×”×ª××¡×¤×•×ª ×•× ×©× ×•×©×™×', '×‘×›× ×™×¡×” ×œ××•×“×™×˜×•×¨×™×•×');

  // === COMMON: ×¤×ª×™×—×” ===
  h += renderCommonRow('09:30 â€“ 10:00', '', 'ğŸ¤ ×¤×ª×™×—×”', '×‘××•×“×™×˜×•×¨×™×•×');

  // === ROTATION SLOTS ===
  slots.forEach((slot, si) => {
    h += '<tr>';
    h += `<td class="time-cell"><span class="t-time" dir="ltr">${slot.time}</span><span class="t-badge">${slot.badge}</span></td>`;
    grid[si].forEach((cell, labIdx) => { h += renderCell(si, cell, labIdx); });
    h += '</tr>';
  });

  // === COMMON: ××¨×•×—×ª ×¦×”×¨×™×™× ===
  h += renderCommonRow('12:30 â€“ 13:00', '', 'ğŸ½ï¸ ××¨×•×—×ª ×¦×”×¨×™×™× ×§×œ×”', '');

  // === ××¢×’×œ×™ ×—×©×™×‘×” (same as first slot) ===
  h += '<tr>';
  h += `<td class="time-cell"><span class="t-time" dir="ltr">13:00 â€“ 14:15</span><span class="t-badge">××¢×’×œ×™ ×—×©×™×‘×”</span></td>`;
  grid[0].forEach((cell, labIdx) => { h += renderCirclesCell(cell, labIdx); });
  h += '</tr>';

  // === COMMON: ×¡×™×›×•× ×”×™×•× ===
  h += renderCommonRow('14:15 â€“ 14:30', '', 'âœ¨ ×¡×™×›×•× ×”×™×•× ×•×¦×™×“×” ×œ×“×¨×š', '×‘××•×“×™×˜×•×¨×™×•×');

  tbl.innerHTML = h;
})();
</script>
</body>
</html>
