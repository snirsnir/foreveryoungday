<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>×œ×•×– × ×©×™× ××•×‘×™×œ×•×ª ××“×¢</title>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --lung: #2a9d8f;
    --lung-light: #d4eeeb;
    --lung-dark: #1a6b5f;
    --cardio: #e76f83;
    --cardio-light: #fde4e9;
    --cardio-dark: #b8455c;
    --brain: #7b5ea7;
    --brain-light: #ece3f4;
    --brain-dark: #5a3d82;
    --museum: #3b82c4;
    --museum-light: #dce9f7;
    --museum-dark: #1e5a9e;
    --dark: #1a1a2e;
    --dark2: #16162a;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Heebo', sans-serif;
    background: linear-gradient(145deg, #f0f4f8 0%, #e8ecf2 100%);
    min-height: 100vh;
    padding: 32px 16px 44px;
    direction: rtl;
  }

  .header { text-align: center; margin-bottom: 22px; }
  .header h1 { font-size: 24px; font-weight: 800; color: var(--dark); }
  .header .sub { font-size: 12px; color: #7a8899; margin-top: 4px; }

  .legend {
    display: flex; justify-content: center; gap: 18px;
    margin-bottom: 18px; flex-wrap: wrap;
  }
  .legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; font-weight: 600; color: #444; }
  .legend-dot { width: 12px; height: 12px; border-radius: 3px; }

  .wrapper {
    max-width: 1500px; margin: 0 auto;
    overflow-x: auto; border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.10), 0 2px 6px rgba(0,0,0,0.05);
    background: #fff;
  }

  table { width: 100%; border-collapse: collapse; min-width: 1050px; }

  /* TOPIC HEADER */
  .topic-row th {
    padding: 11px 4px; text-align: center; color: #fff;
    border-left: 2px solid rgba(255,255,255,0.2); vertical-align: middle;
  }
  .topic-row th:first-child { border-left: none; }
  .topic-row .th-time { background: var(--dark); min-width: 108px; border-radius: 16px 0 0 0; }
  .topic-row .th-lung { background: var(--lung); }
  .topic-row .th-cardio { background: var(--cardio); }
  .topic-row .th-brain { background: var(--brain); border-radius: 0 16px 0 0; }
  .topic-row .t-emoji { font-size: 20px; display: block; margin-bottom: 1px; }
  .topic-row .t-label { font-size: 14px; font-weight: 700; display: block; }

  /* LAB SUB-HEADER */
  .lab-row th {
    padding: 8px 3px; font-size: 10px; font-weight: 600;
    color: rgba(255,255,255,0.93); text-align: center;
    border-left: 1px solid rgba(255,255,255,0.22);
    border-top: 2px solid rgba(255,255,255,0.15);
  }
  .lab-row th:first-child { border-left: none; }
  .lab-row .lh-time { background: var(--dark2); }
  .lab-row .lh-lung { background: var(--lung-dark); }
  .lab-row .lh-cardio { background: var(--cardio-dark); }
  .lab-row .lh-brain { background: var(--brain-dark); }

  /* TIME CELLS */
  .time-cell {
    background: var(--dark); color: #cdd6f4;
    text-align: center; padding: 14px 6px;
    border-top: 1px solid #2a2a44; vertical-align: middle;
  }
  .time-cell .t-time { font-size: 14px; font-weight: 800; display: block; color: #eef2ff; }
  .time-cell .t-badge { font-size: 9.5px; color: #6b7a9e; display: block; margin-top: 2px; font-weight: 500; }

  /* GROUP CELL */
  .g-cell {
    padding: 0; vertical-align: top;
    border: 1px solid rgba(0,0,0,0.07);
    min-width: 120px;
  }
  .g-lung { background: var(--lung-light); }
  .g-cardio { background: var(--cardio-light); }
  .g-brain { background: var(--brain-light); }
  .g-empty { background: #f4f5f7; border: 1px dashed #d0d4da !important; }

  /* Group name bar */
  .g-name-bar {
    font-size: 10.5px; font-weight: 700; text-align: center;
    padding: 4px 4px 3px;
  }
  .g-lung .g-name-bar { background: var(--lung); color: #fff; }
  .g-cardio .g-name-bar { background: var(--cardio); color: #fff; }
  .g-brain .g-name-bar { background: var(--brain); color: #fff; }

  /* 3-row grid inside each cell â€” FIXED height rows so everything aligns */
  .g-content {
    display: grid;
    grid-template-rows: 1fr auto 1fr;
    gap: 4px;
    padding: 5px;
    height: 120px; /* fixed height ensures all cells same size */
  }

  /* ××¢×‘×“×” block */
  .lab-block {
    background: rgba(255,255,255,0.55);
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    font-weight: 800;
  }
  .g-lung .lab-block { color: var(--lung-dark); }
  .g-cardio .lab-block { color: var(--cardio-dark); }
  .g-brain .lab-block { color: var(--brain-dark); }

  /* Museum banner â€” fixed height middle row */
  .mus-banner {
    background: var(--museum-light);
    border: 1px solid rgba(59,130,196,0.3);
    border-radius: 5px;
    padding: 3px 6px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0;
  }
  .mus-banner .mus-time {
    font-size: 10px; font-weight: 800; color: var(--museum-dark); display: block;
  }
  .mus-banner .mus-label {
    font-size: 9px; font-weight: 600; color: var(--museum); display: block; margin-top: 1px;
  }

  /* Placeholder â€” invisible spacer when museum is not in that row */
  .placeholder { }

  .note {
    max-width: 700px; margin: 18px auto 0;
    text-align: center; font-size: 11px; color: #8a8a9a; line-height: 1.7;
  }
  .note .note-mus {
    display: inline-flex; align-items: center; gap: 5px;
    background: var(--museum-light); color: var(--museum-dark);
    padding: 3px 10px; border-radius: 8px; font-weight: 600; font-size: 10.5px; margin-top: 5px;
  }
</style>
</head>
<body>

<div class="header">
  <h1>ğŸ”¬ ×œ×•×– × ×©×™× ××•×‘×™×œ×•×ª ××“×¢</h1>
  <div class="sub">×”×§×¦×” ×§×‘×•×¦×•×ª â†’ ××¢×‘×“×•×ª â†’ ×¨×¦×•×¢×•×ª ×–××Ÿ</div>
</div>

<div class="legend">
  <div class="legend-item"><div class="legend-dot" style="background:var(--lung)"></div>ğŸ« × ×©×™××”</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--cardio)"></div>ğŸ’– ×§×¨×“×™×•×œ×•×’×™×”</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--brain)"></div>ğŸ§  ×”××•×—</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--museum)"></div>ğŸ¥ ××•×–×™××•×Ÿ ×¨×¤×•××”</div>
</div>

<div class="wrapper">
  <table id="tbl"></table>
</div>

<div class="note">
  ×›×œ ×§×‘×•×¦×” ×¢×•×‘×¨×ª ×¢×œ ×©×œ×•×©×ª ×”× ×•×©××™× â€” × ×©×™××”, ×§×¨×“×™×•×œ×•×’×™×”, ×”××•×— â€” ××—×“ ×‘×›×œ ×¨×¦×•×¢×”.<br>
  <span class="note-mus">ğŸ¥ ×‘×›×œ ×¨×¦×•×¢×” ×›×œ ×§×‘×•×¦×” ××‘×§×¨×ª ×‘××•×–×™××•×Ÿ ×¨×¤×•××” ×¨×‘×¢ ×©×¢×”</span>
</div>

<script>
const groups = [
  '×©×© ×©× ×ª×™ â€“ ×™×©"×™',
  '×¨×‘ ×ª×—×•××™',
  '××‘×©×¨×ª',
  '××œ×“×“ + ××ª×’×¨×™ ×”×¢×ª×™×“',
  '× ×‘×•×Ÿ',
  '××•×œ×¤× ×” â€“ ××¢×™×™×Ÿ ×”×××•× ×”',
  '×¢×ª×™×“×™×',
  '×§×•×¤×˜××Ÿ',
];

const rotation = [
  ['L','C','B'],
  ['L','C','B'],
  ['L','B','C'],
  ['C','L','B'],
  ['C','B','L'],
  ['C','B','L'],
  ['B','L','C'],
  ['B','C','L'],
];

const labs = [
  { name:'××¢×‘×“×” 1',          topic:'L' },
  { name:'××¢×‘×“×” 2',          topic:'L' },
  { name:'××¢×‘×“×” 3',          topic:'L' },
  { name:'××¢×‘×“×” 4',          topic:'C' },
  { name:'××¢×‘×“×” 5',          topic:'C' },
  { name:'××¢×‘×“×” 6',          topic:'C' },
  { name:'×™×—×™×“. ×¨×¤. ×\'',   topic:'B' },
  { name:'×™×—×™×“. ×¨×¤. ×‘\'',   topic:'B' },
  { name:'××¢×‘×“×ª ××œ×§×˜×¨×•× ×™×§×”', topic:'B' },
];

const slots = [
  { time:'10:00 â€“ 10:50', badge:'×¨×¦×•×¢×” ×\'' },
  { time:'10:50 â€“ 11:40', badge:'×¨×¦×•×¢×” ×‘\'' },
  { time:'11:40 â€“ 12:30', badge:'×¨×¦×•×¢×” ×’\'' },
];

// Museum times written endâ†start so RTL flips them correctly to startâ†’end
const museumTimes = [
  ['10:00â€“10:15', '10:15â€“10:30', '10:30â€“10:45'],
  ['10:50â€“11:05', '11:05â€“11:20', '11:20â€“11:35'],
  ['11:40â€“11:55', '11:55â€“12:10', '12:10â€“12:25'],
];

const topicCls = { L:'lung', C:'cardio', B:'brain' };
const labCls   = { L:'lh-lung', C:'lh-cardio', B:'lh-brain' };

function buildGrid() {
  const grid = [];
  for (let s = 0; s < 3; s++) {
    const byTopic = { L:[], C:[], B:[] };
    rotation.forEach((row, gi) => byTopic[row[s]].push(gi));
    const row = labs.map(() => null);
    byTopic.L.forEach((gi, i) => { row[i]   = { groupIdx: gi, museumSub: i }; });
    byTopic.C.forEach((gi, i) => { row[3+i] = { groupIdx: gi, museumSub: i }; });
    byTopic.B.forEach((gi, i) => { row[6+i] = { groupIdx: gi, museumSub: i }; });
    grid.push(row);
  }
  return grid;
}

const grid = buildGrid();

// Render each cell using a fixed 3-row grid:
//   Row 0 (top):    ××¢×‘×“×”  OR  ××•×–×™××•×Ÿ (if museumSub=0)
//   Row 1 (mid):    ××•×–×™××•×Ÿ (if museumSub=1)  OR empty placeholder
//   Row 2 (bottom): ××¢×‘×“×”  OR  ××•×–×™××•×Ÿ (if museumSub=2)
//
// museumSub=0: [museum] [placeholder] [××¢×‘×“×”]   â€” but we want ××¢×‘×“×” to fill rows 1+2
// museumSub=1: [××¢×‘×“×”]  [museum]      [××¢×‘×“×”]
// museumSub=2: [××¢×‘×“×”]  [placeholder] [museum]  â€” but we want ××¢×‘×“×” to fill rows 0+1
//
// Simpler: always 3 rows. Each row is either ××¢×‘×“×” or ××•×–×™××•×Ÿ.
// museumSub=0: row0=museum, row1=××¢×‘×“×”, row2=××¢×‘×“×”
// museumSub=1: row0=××¢×‘×“×”,  row1=museum, row2=××¢×‘×“×”
// museumSub=2: row0=××¢×‘×“×”,  row1=××¢×‘×“×”,  row2=museum
// All 3 rows equal height â†’ everything aligns.

function renderCell(si, cell) {
  if (!cell) return '<td class="g-cell g-empty"></td>';

  const gi = cell.groupIdx;
  const topic = rotation[gi][si];
  const cls = topicCls[topic];
  const musSub = cell.museumSub;
  const musTime = museumTimes[si][musSub];

  const museumHTML = `
    <div class="mus-banner">
      <span class="mus-time" dir="ltr">${musTime}</span>
      <span class="mus-label">ğŸ¥ ×. ×¨×¤×•××”</span>
    </div>`;
  const labHTML = '<div class="lab-block">××¢×‘×“×”</div>';

  // Build 3 rows: each is either museum or ××¢×‘×“×”
  const rows = [labHTML, labHTML, labHTML];
  rows[musSub] = museumHTML;

  return `
    <td class="g-cell g-${cls}">
      <div class="g-name-bar">${groups[gi]}</div>
      <div class="g-content">
        ${rows[0]}
        ${rows[1]}
        ${rows[2]}
      </div>
    </td>`;
}

(function render() {
  const tbl = document.getElementById('tbl');
  let h = '';

  h += '<tr class="topic-row">';
  h += '<th class="th-time" rowspan="2"></th>';
  h += '<th class="th-lung" colspan="3"><span class="t-emoji">ğŸ«</span><span class="t-label">× ×©×™××”</span></th>';
  h += '<th class="th-cardio" colspan="3"><span class="t-emoji">ğŸ’–</span><span class="t-label">×§×¨×“×™×•×œ×•×’×™×”</span></th>';
  h += '<th class="th-brain" colspan="3"><span class="t-emoji">ğŸ§ </span><span class="t-label">×”××•×—</span></th>';
  h += '</tr>';

  h += '<tr class="lab-row">';
  labs.forEach(lab => { h += `<th class="${labCls[lab.topic]}">${lab.name}</th>`; });
  h += '</tr>';

  slots.forEach((slot, si) => {
    h += '<tr>';
    h += `<td class="time-cell"><span class="t-time" dir="ltr">${slot.time}</span><span class="t-badge">${slot.badge}</span></td>`;
    grid[si].forEach((cell) => { h += renderCell(si, cell); });
    h += '</tr>';
  });

  tbl.innerHTML = h;
})();
</script>
</body>
</html>
